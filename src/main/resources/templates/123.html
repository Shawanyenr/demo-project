<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" media="all" href="../static/bootstrap-4.4.1-dist/css/bootstrap.min.css"
          th:href="@{/static/bootstrap-4.4.1-dist/css/bootstrap.min.css}"/>
    <link href="https://cdn.bootcss.com/font-awesome/5.12.1/css/all.css" rel="stylesheet">
    <link rel="stylesheet" href="../static/css/theme.css" th:href="@{/static/css/theme.css}"/>
    <style type="text/css">
        .loading {
            background: #00000040 no-repeat center 50%;
            z-index: 9999;
        }
    </style>
</head>

<body>
<div class="container-fluid text-center">
    <h2>遮罩层DEMO</h2>
    <!-- 按钮触发模态框 -->
    <button οnclick="startup()">遮罩层</button>

    <hr>
    <!--    <p th:text="${#dates.format('2020-03-26T03:57:53.000+0000','yyyy-MM-dd hh:mm')}"></p>-->
    <p> 'yyyy-MM-dd hh:mm')</p>
    <br><br><br>
    <button onclick="show()">转换</button>
    <div id="a"></div>
</div>
<!-- 遮罩层模态框（Modal） -->
<div class="modal fade loading" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true" data-backdrop="static" data-keyboard="false">
    // data-backdrop="static" data-keyboard="false" // 以上属性是静止掉了模态框的关闭按钮和点击空白处关闭模态框
</div>
<script type="text/javascript" th:src="@{/static/js/jquery-3.4.1.min.js}"
        src="../static/js/jquery-3.4.1.min.js"></script>
<script>
    function startup() {
        $("#myModal").modal('show');
        setTimeout('shutdown()', 5000);
    }

    function shutdown() {
        $("#myModal").modal('hide');
    }

    const date = new Date("2020-03-26T03:57:53.000+0000");

    function show() {
        var pid = 31;

        $.ajax({
            method: 'GET',
            url: '/post/' + pid,
            success: function (response) {
                $("#a").append(pid + "<img th:src=\"@{${post.img_dir}}\" class=\"post-card-img\" alt=\"...\">");
                var pid = pid + 1;
            }

        })

    }
</script>
</body>

</html>